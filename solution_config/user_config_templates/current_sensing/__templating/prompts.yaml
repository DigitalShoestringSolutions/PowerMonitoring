---
- key: machine_name
  text: Choose a name for this machine
- key: __variant
  text: Which power monitoring variant are you deploying
  option:
    - prompt: basic
      target:
        - answer_key: __adc_basic
          text: Which ADC are you using
          option:
            - prompt: Grove ADC v1.0
              target:
                - answer_key: __basic_grove_1_0
                  key: module_config_file
                  text: Which sensing configuration are you using
                  option:
                    - prompt: Single phase
                      value: pm_b_1p_grove_v1.0
                    - prompt: Three phase balanced (single clamp)
                      value: pm_b_3pb_grove_v1.0
                    - prompt: Three phase unbalanced
                      value: pm_b_3pu_grove_v1.0
                    - prompt: Gravity DC current sensor
                      value: pm_dc_gravity_grove_v1.0
            - prompt: Grove ADC v1.1
              target:
                - answer_key: __basic_grove_1_1
                  key: module_config_file
                  text: Which sensing configuration are you using
                  option:
                    - prompt: Single phase
                      value: pm_b_1p_grove_v1.1
                    - prompt: Three phase balanced (single clamp)
                      value: pm_b_3pb_grove_v1.1
                    - prompt: Three phase unbalanced
                      value: pm_b_3pu_grove_v1.1
                    - prompt: Gravity DC current sensor
                      value: pm_dc_gravity_grove_v1.1
            - prompt: ADS1115
              target:
                - answer_key: __basic_ads1115
                  key: module_config_file
                  text: Which sensing configuration are you using
                  option:
                    - prompt: Single phase
                      value: pm_b_1p_ads1115
                    - prompt: Three phase balanced (single clamp)
                      value: pm_b_3pb_ads1115
                    - prompt: Three phase unbalanced
                      value: pm_b_3pu_ads1115
                    - prompt: Gravity DC current sensor
                      value: pm_dc_gravity_ads1115
            - prompt: BC Robotics
              target:
                - answer_key: __basic_bc
                  key: module_config_file
                  text: Which sensing configuration are you using
                  option:
                    - prompt: Single phase
                      value: pm_b_1p_bc_robotics
                    - prompt: Three phase balanced (single clamp)
                      value: pm_b_3pb_bc_robotics
                    - prompt: Three phase unbalanced
                      value: pm_b_3pu_bc_robotics
                    - prompt: Gravity DC current sensor
                      value: pm_dc_gravity_bc_robotics
            - prompt: Sequent 16 channel Universal Inputs ADC
              target:
                - answer_key: __basic_sequent
                  key: module_config_file
                  text: Which sensing configuration are you using
                  option:
                    - prompt: Single phase
                      value: pm_b_1p_sequent
                    - prompt: Three phase balanced (single clamp)
                      value: pm_b_3pb_sequent
                    - prompt: Three phase unbalanced
                      value: pm_b_3pu_sequent
    - prompt: intermediate
      target:
        - answer_key: __num_phases_int
          key: module_config_file
          text: How many phases are you monitoring
          option:
            - prompt: single phase
              value: pm_i_1p
            - prompt: three phase
              value: pm_i_3p
    - prompt: advanced
      target:
        - answer_key: __num_phases_adv
          key: module_config_file
          text: How many phases are you monitoring
          option:
            - prompt: single
              value: pm_a_1p
            - prompt: three
              value: pm_a_3p
    - prompt: simulator
      target:
        - key: module_config_file
          value: pm_b_3pu_mock
